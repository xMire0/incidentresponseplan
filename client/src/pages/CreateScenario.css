/* ===== Admin Create Scenario — flat questions (no sections) ===== */

:root{
  --bg:#0b0f16;
  --surface:#141826;
  --surface-2:#1b2030;
  --edge:rgba(255,255,255,.10);
  --edge-2:rgba(255,255,255,.16);
  --text:#e9eef5;
  --muted:#9aa5b1;
  --shadow:0 18px 40px rgba(0,0,0,.35), 0 8px 18px rgba(0,0,0,.28);

  --brand:#6b61ff;
  --green:#16c784;
  --amber:#f59e0b;
  --red:#ef4444;
  --gray:#64748b;

  --r-card:16px;
  --r-btn:12px;
}

.admin-root{min-height:100vh;background:var(--bg);color:var(--text)}
.container{max-width:1450px;margin:0 auto;padding:30px 24px 0 24px}

/* Topbar */
.admin-topbar{background:var(--surface);border-bottom:1px solid var(--edge)}
.admin-topbar-inner{height:64px;display:flex;align-items:center;justify-content:space-between;gap:16px;padding:0 16px 0 20px}
.brand{display:flex;align-items:center;gap:10px}
.brand-icon{width:28px;height:28px;display:inline-grid;place-items:center}
.brand-name{font-weight:700}

.btn-outlined{background:transparent;color:var(--text);border:1px solid var(--edge);height:36px;padding:0 12px;border-radius:10px;display:inline-flex;align-items:center;gap:8px;cursor:pointer;transition:.15s}
.btn-outlined:hover{background:rgba(255,255,255,.05);border-color:var(--edge-2)}
.btn-primary{background:linear-gradient(90deg,#4ea5ff,#246bff);color:#fff;border:0;height:40px;padding:0 16px;border-radius:12px;cursor:pointer;font-weight:700;box-shadow:0 10px 24px rgba(0,0,0,.28)}
.btn-primary:disabled{opacity:.55;cursor:not-allowed}

/* Page header */
.create-wrap{padding:28px 0 48px}
.page-title{font-size:32px;font-weight:800;margin:0 0 4px}
.page-subtitle{color:var(--muted);margin:0 0 18px}

/* Grid */
.grid-two{display:grid;grid-template-columns:1fr;gap:20px}
@media (min-width: 980px){.grid-two{grid-template-columns: minmax(0,1fr) 360px}}

/* Panels */
.panel{background:var(--surface);border:1px solid var(--edge);border-radius:var(--r-card);box-shadow:var(--shadow);padding:16px 16px 18px}
.panel-title{margin:0 0 12px;font-size:14px;letter-spacing:.2px;color:#cdd3df}
.sep{height:1px;background:var(--edge);margin:18px 0}

/* Form */
.form-row{display:flex;flex-direction:column;gap:8px;margin-bottom:18px}
label{font-size:13px;color:#d5dbea}
.input{
  width:100%;height:40px;border-radius:12px;border:1px solid var(--edge);
  background:#0f1422;color:var(--text);padding:8px 12px;outline:none;
}
.input:focus{border-color:#2a3350;box-shadow:0 0 0 3px rgba(107,97,255,.18)}
textarea.input{height:auto;line-height:1.45;padding-top:10px;padding-bottom:10px}

/* Questions header */
.questions-head{display:flex;align-items:center;justify-content:space-between;margin:0 0 12px}
.btn-ghost{
  height:34px;padding:0 10px;border-radius:10px;color:#dbe3f5;border:1px solid var(--edge);
  background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  cursor:pointer;transition:.15s
}
.btn-ghost:hover{border-color:var(--edge-2);background:rgba(255,255,255,.06)}
.btn-ghost.danger{border-color:rgba(239,68,68,.35);color:#ffdcdc}
.btn-ghost.danger:hover{background:rgba(239,68,68,.08)}

/* Question card */
.q-card{border:1px dashed var(--edge);border-radius:12px;padding:12px;margin:12px 2px;background:rgba(255,255,255,.02)}
.q-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}

/* Options */
.opts{margin-top:6px}
.opts-head{display:flex;align-items:center;justify-content:space-between;margin:0 0 10px}
.opt-row{
  display:grid;grid-template-columns: 38px minmax(0,1fr) 78px 120px 96px;
  gap:10px;align-items:center;background:#0f1422;border:1px solid var(--edge);
  border-radius:12px;padding:8px 8px;margin-bottom:8px;
}
.opt-row > *{min-width:0}

.opt-check{
  width:34px;height:34px;border-radius:10px;border:1px solid var(--edge);
  background:rgba(255,255,255,.04);color:#cfeedd;cursor:pointer;transition:.15s;
  display:grid;place-items:center;font-weight:900
}
.opt-check.correct{background:rgba(22,199,132,.16);border-color:rgba(22,199,132,.5);color:#d7ffe9}
.opt-check.partial{background:rgba(245,158,11,.14);border-color:rgba(245,158,11,.45);color:#fff1d0}
.opt-check.incorrect{background:rgba(239,68,68,.10);border-color:rgba(239,68,68,.38);color:#ffe0e0}
.opt-check.none{background:rgba(148,163,184,.10);border-color:rgba(148,163,184,.32);color:#e9eef5}

.input.score{text-align:center}

/* Row status tints */
.status-correct{box-shadow:inset 0 0 0 1px rgba(22,199,132,.38)}
.status-partial{box-shadow:inset 0 0 0 1px rgba(245,158,11,.38)}
.status-incorrect{box-shadow:inset 0 0 0 1px rgba(239,68,68,.32)}
.status-none{box-shadow:inset 0 0 0 1px rgba(148,163,184,.22)}

/* Validation */
.issues{margin-top:16px;border:1px solid rgba(239,68,68,.35);border-radius:12px;background:rgba(239,68,68,.08);padding:12px}
.issues b{display:block;margin-bottom:6px}

/* Right side preview */
.preview .preview-card{
  border:1px solid var(--edge);border-radius:14px;background:var(--surface-2);
  padding:14px;display:flex;flex-direction:column;gap:10px
}
.p-top{display:flex;align-items:center;gap:10px}
.p-icon{width:32px;height:32px;border-radius:10px;display:grid;place-items:center;background:rgba(107,97,255,.12);border:1px solid rgba(107,97,255,.35)}
.p-title{font-size:18px;margin:0}
.p-sub{margin:0;color:var(--muted)}
.p-meta{display:flex;gap:12px;color:#cbd3e6;font-size:13px}

.pill{padding:6px 10px;border-radius:999px;font-size:12px;color:#d7deea;border:1px solid var(--edge);background:rgba(255,255,255,.05);margin-left:auto}

/* Flash */
.flash{margin:12px 0 0;border-radius:10px;padding:10px 12px}
.flash.ok{background:rgba(22,199,132,.12);border:1px solid rgba(22,199,132,.45)}
.muted{color:var(--muted)}
.row.gap{display:flex;gap:10px}

/* --- Question Bank (final, no compact/wrap) --- */
.bank-controls{display:flex;align-items:center;gap:10px;margin:0 0 10px}
.bank-select{flex:1;height:36px}

.preview-card .q-title{margin:0 0 6px;font-size:16px;font-weight:700;color:var(--text)}
.preview-card .opts-title{margin:0 0 8px;font-weight:600;color:#cdd3df;font-size:14px}

.drawer .opt-row{
  display:grid;grid-template-columns:40px 1fr 72px 120px;
  gap:8px;align-items:center;background:rgba(15,20,34,.8);
  border:1px solid var(--edge);border-radius:12px;padding:8px 10px;margin-bottom:8px;font-size:14px;
}
.drawer .opt-row > *{min-width:0}
.drawer .opt-row .opt-check{flex-shrink:0}

/* Text cell – wrap naturally */
.opt-text{min-width:0;white-space:normal;overflow-wrap:anywhere;word-break:normal}

/* Pills */
.pill{padding:6px 10px;border-radius:999px;font-size:12px;color:#d7deea;border:1px solid var(--edge);background:rgba(255,255,255,.05)}
.pill-score{min-width:40px;text-align:center;font-weight:700}
.pill-verdict{text-transform:capitalize;text-align:center;display:flex;align-items:center;justify-content:center;padding:4px 8px;font-weight:600}
.pill-verdict.correct{background:rgba(22,199,132,.16);border-color:rgba(22,199,132,.45);color:#d7ffe9}
.pill-verdict.partial{background:rgba(245,158,11,.14);border-color:rgba(245,158,11,.45);color:#fff1d0}
.pill-verdict.incorrect{background:rgba(239,68,68,.10);border-color:rgba(239,68,68,.38);color:#ffe0e0}
.pill-verdict.none{background:rgba(148,163,184,.10);border-color:rgba(148,163,184,.32);color:#e9eef5}
.drawer .opt-row .pill-score,.drawer .opt-row .pill-verdict{justify-self:center;text-align:center}

/* Responsive tightening for small widths */
@media (max-width:520px){
  .drawer .opt-row{grid-template-columns:36px 1fr 60px 100px;font-size:13px}
  .pill{padding:4px 8px}
}

/* ===== (OLD) simple roles dropdown — keep if still used anywhere ===== */
.roles-select{position:relative}
.roles-trigger{display:flex;align-items:center;justify-content:flex-start;cursor:pointer}
.roles-pop{
  position:absolute;z-index:60;top:calc(100% + 6px);left:0;min-width:260px;
  background:var(--surface);border:1px solid var(--edge);border-radius:12px;
  box-shadow:var(--shadow);padding:8px;max-height:240px;overflow:auto;
}
.role-row{display:flex;align-items:center;gap:10px;padding:6px 8px;border-radius:8px}
.role-row:hover{background:rgba(255,255,255,.05)}

/* === RolePicker (chip-style multi-select) =============================== */
.rolepicker{position:relative}

.rp-field{
  display:flex;align-items:center;gap:8px;width:100%;
  min-height:40px;padding:6px 10px;border:1px solid var(--edge);border-radius:12px;
  background:#0f1422;color:var(--text);cursor:pointer;
  transition:border-color .15s ease,box-shadow .15s ease,background .15s ease;
}
.rp-field:hover{border-color:var(--edge-2);background:rgba(255,255,255,.04)}
.rp-field:focus-visible{outline:none;border-color:#2a3350;box-shadow:0 0 0 3px rgba(107,97,255,.18)}

.rp-chips{display:flex;flex-wrap:wrap;gap:6px;align-items:center;min-height:26px}
.chip{
  display:inline-flex;align-items:center;gap:6px;
  padding:6px 10px;border-radius:999px;font-size:12px;font-weight:600;
  background:rgba(255,255,255,.06);border:1px solid var(--edge);color:#d7deea;
}
.chip-all{background:rgba(107,97,255,.12);border-color:rgba(107,97,255,.35);color:#dbe0ff}
.chip-x{border:0;background:transparent;color:#cbd3e6;font-weight:900;width:16px;height:16px;line-height:16px;border-radius:50%;cursor:pointer}
.chip-x:hover{background:rgba(255,255,255,.10);color:#fff}
.rp-caret{margin-left:auto;opacity:.8;font-size:12px}

/* Popover */
.rp-pop{
  position:absolute;z-index:70;top:calc(100% + 8px);left:0;
  width:min(520px,100%);max-height:280px;overflow:hidden;
  background:var(--surface);border:1px solid var(--edge);border-radius:12px; 
  box-shadow:var(--shadow);display:flex;flex-direction:column;
}

.rp-search{display:flex;gap:8px;padding:8px;border-bottom:1px solid var(--edge);background:var(--surface-2)}
.rp-search .input{height:36px}
.rp-clear{
  height:36px;padding:0 10px;border-radius:10px;border:1px solid var(--edge);color:#dbe3f5;
  background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));cursor:pointer;
}
.rp-clear:hover{border-color:var(--edge-2);background:rgba(255,255,255,.06)}

.rp-list{padding:6px;overflow:auto}
.rp-empty{padding:12px;color:var(--muted);font-size:13px}

.rp-item{
  width:100%;display:flex;align-items:center;gap:10px;
  padding:8px 10px;border-radius:10px;cursor:pointer;
  border:1px solid transparent;background:transparent;color:var(--text);
  transition:background .12s ease,border-color .12s ease;
}
.rp-item:hover{background:rgba(255,255,255,.05);border-color:var(--edge)}
.rp-item.is-picked{
  background:rgba(107,97,255,.12);
  border-color:rgba(107,97,255,.35);
  box-shadow:inset 0 0 0 1px rgba(107,97,255,.25);
}
.rp-check{
  width:20px;height:20px;border-radius:6px;border:1px solid var(--edge);
  display:grid;place-items:center;font-weight:900;color:#e9eef5;background:rgba(255,255,255,.04);flex:0 0 auto;
}
.rp-check.on{
  background:linear-gradient(135deg,#8ea6ff,#6b61ff);
  border-color:transparent;color:#fff;box-shadow:0 4px 14px rgba(107,97,255,.35);
}
.rp-txt{min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

.rp-help{padding:8px 10px;border-top:1px solid var(--edge);color:#aeb7c8;font-size:12px;background:rgba(255,255,255,.02)}

/* Make everything in the RolePicker popover clearly readable */
.rolepicker .rp-pop,
.rolepicker .rp-pop *{color:#ecf2fa !important;opacity:1 !important}
.rolepicker .rp-search .input{color:#ecf2fa !important}
.rolepicker .rp-search .input::placeholder{color:#9aa5b1 !important;opacity:1 !important}
.rolepicker .rp-search .rp-clear{color:#ecf2fa !important}

/* Responsive: keep it tidy on very small screens */
@media (max-width:520px){
  .rp-pop{width:100%}
  .rp-search{padding:6px}
  .rp-item{padding:8px}
}